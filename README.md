# 2D RSSI Dataset Generation

This project generates 2D RSSI (Received Signal Strength Indicator) datasets. It processes floor plan images and generates corresponding RSSI heatmaps using Gaussian Process models and multi-wall Log-distance propagation models.

## Project Overview

The project supports two main data sources:
1. **HouseExpo Dataset**: Floor plans for large-scale dataset generation
2. **Real World Data**: Actual indoor environment measurements for validation

## File Descriptions

### Core Generation Scripts

- **`data_generate.py`**: Main dataset generation script that processes floor plan images and generates RSSI data, receiver positions, transmitter locations, and trajectory information using multi-wall propagation models.
- **`heatmap_generate.py`**: Generates RSSI heatmaps from floor plans using Gaussian Process models. Supports different GP kernel configurations for signal propagation modeling.
- **`heatmap_generate_rw.py`**: Specialized heatmap generation for real-world data, processes `.mat` files containing actual measurement data and generates corresponding heatmaps.
- **`build_dataset.py`**: Organizes generated data into training and testing datasets with proper train/test splits. Creates structured directories for machine learning workflows.

### Utility Scripts

- **`utils.py`**: Core utility functions including:
  - Image padding and resizing operations
  - Gradient computation for wall detection
  - Multi-wall propagation model implementation
  - Contour creation utilities

- **`gp_utils.py`**: Gaussian Process model definitions using GPyTorch, including different kernel configurations (RBF, Periodic, and combined kernels) for RSSI interpolation.

- **`floor_select.py`**: Filters HouseExpo floor plans based on room count criteria to ensure dataset quality.

- **`test_random_selection.py`**: Creates random subsets of the dataset for testing and validation purposes.

## Directory Structure

### HouseExpo/
Contains the HouseExpo dataset and generated synthetic data:

- **`HouseExpoPNG/`**: Original floor plan images in PNG format
- **`GroundTruth_Scale100/`**: Generated ground truth data including:
  - **`FloorPlan/`**: Processed floor plan images (256x256 pixels)
  - **`Heatmaps/`**: Heatmaps generated by SE + PE Gaussian Kernel
  - **`Heatmaps_SExPE/`**: Heatmaps generated by SE x PE Gaussian Kernel
  - **`Trajectory/`**: Robot/receiver trajectory data
  - **`Receivers/`**: Receiver position coordinates
  - **`RSSI/`**: RSSI measurement values
  - **`Transmitter/`**: Transmitter position data
  - **`NumWalls/`**: Wall count information for propagation modeling

- **`selected_map_ids_*.txt`**: Lists of selected floor plan IDs for different dataset sizes

### RealWorldData/
Contains real-world measurement data:

- **`RW_raw_data_gmap/`**: Raw measurement data in MATLAB format (`.mat` files)
- **`RealWorld_map/`**: Floor plan maps in PGM format with corresponding YAML configuration files
- **`Processed_Dataset/`**: Processed real-world datasets organized by experiment and method

## Dataset Generation Workflow

1. **Floor Plan Selection**: Use `floor_select.py` to filter suitable floor plans
2. **Data Generation**: Run `data_generate.py` to create RSSI measurements and related data
3. **Heatmap Generation**: Use `heatmap_generate.py` to create RSSI heatmaps
4. **Dataset Organization**: Run `build_dataset.py` to structure data for ML training
5. **Subset Creation**: Use `test_random_selection.py` for creating test subsets

## Key Features

- **Multi-wall Propagation Model**: Realistic RSSI simulation considering wall obstacles
- **Gaussian Process Interpolation**: Smooth RSSI heatmap generation
- **Flexible Dataset Organization**: Support for different Gaussian Kernels (SE+PE/SExPE)
- **Real-world Validation**: Integration of actual measurement data
- **Scalable Processing**: Batch processing of large floor plan datasets

## References

**HouseExpo Dataset:**
- GitHub Repository: https://github.com/TeaganLi/HouseExpo.git
- This project uses the HouseExpo dataset for generating synthetic floor plan data and RSSI measurements.

